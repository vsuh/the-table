
# Техническое задание: Расписание театра

## 1. Назначение

**Цель:** Обеспечить персонал театра доступом к актуальной информации о занятости по часам на даты, через простую и наглядную веб-витрину, редактируемую сотрудником режиссерского управления.

## 2. Общая структура

- Приложение состоит из двух рабочих мест:
  - **Оператор**: редактирует и публикует расписание через служебный интерфейс;
  - **Витрина**: отображает актуальное расписание для просмотра персоналом.
- Витрина доступна по ссылке **с обязательной авторизацией** через внешнего провайдера (OAuth 2.0, Google и др.).
  - Провайдеры должны быть настраиваемыми и легко подключаемыми.

## 3. Отображение расписания (витрина)

### 3.1 Структура таблицы
- 7 колонок: от **сегодня** до **+6 дней** (дни обновляются сдвигом);
- 2 строки: верхняя — **мероприятия**, нижняя — **спектакли на четырёх площадках**.

### 3.2 Отображение карточек

- Каждая карточка размещается **внутри одной ячейки** (день × тип события);
- Размещаются **по вертикали**, без перекрытия;
- Заголовок карточки: **КАПСЛОК**, **жирный**, **белый текст на красном фоне**;
- Автоматическое уменьшение типографики при переполнении;
- При невозможности размещения — визуальное предупреждение и запрет публикации.

## 4. Управление и редактирование

### 4.a Черновик
- Все действия выполняются в изолированном черновике, без автоматической публикации.

### 4.b–4.g Операции оператора
- **Сдвиг дня вперёд** — кнопка «Сдвинуть день»: убирает первый день, добавляет пустой справа.
- **Отмена сдвига** — возвращает скрытый день без публикации.
- **Добавление карточки** — выбор ячейки, типа события и формы ввода.
- **Редактирование карточки** — выбор карточки, редактирование, предпросмотр.
- **Удаление карточки** — выбор и удаление, динамическая перерисовка.
- **Публикация** — создание снимка (pdf или JSON) и фиксация метаданных.

### 4.h Логирование
- Каждая карточка: автор, время изменения.
- Каждая публикация: автор, дата, состав.

### 4.i Административный интерфейс
- Справочники: площадки, типы, участники;
- Настройка аутентификаторов (OAuth, SSO, MobilePASS+);
- Управление правами;
- Развёртывание через Docker-контейнер.

## 5. Нефункциональные требования

### 5.a Производительность
- До 100 карточек, задержка предпросмотра не более 100 мс.

### 5.b Поддержка устройств и браузеров
- Мобильная адаптивность обязательна;
- Корректная работа в Safari (в т.ч. на iPhone);
- Оператор работает на десктопе.

### 5.c Безопасность
- Витрина: доступ только по OAuth;
- Оператор и администратор — только авторизованные (в т.ч. MobilePASS+).

### 5.d Надёжность
- Автовосстановление, кэширование, блокировки карточек.

### 5.e Масштабируемость
- Расширяемость по событиям и площадкам;
- Хранение истории публикаций.

## 6. UI/UX

### 6.a Витрина
- Сетка 7×2: дни × (мероприятия / спектакли);
- Мобильный режим: вертикальная лента;
- Заголовок карточки: КАПСЛОК, жирный, красный фон.

### 6.b Формат карточек

#### Спектакль:
```
19:00, ПМ А.Ю. Непомнящий
ДОХОДНОЕ МЕСТО
Иванов — Артист 1
Петров — Артист 2
(Примечание: костюм, реквизит)
```

#### Репетиция:
```
Малая сцена                              КОСТЮМ, СВЕТ, РЕКВИЗИТ
13:00–16:00
"Сцена 2, акт 1" — ВСЕ ЗАНЯТЫЕ
А.Ю.                                      Л.В.
```

#### Сбор труппы / собрание:
```
12:00
СБОР ТРУППЫ
```

### 6.c Предпросмотр и взаимодействие
- Карточки перемещаются внутри ячейки;
- Автоподстройка шрифта, визуальные сигналы при ошибках.

### 6.d Администратор
- Настройка справочников, провайдеров, прав.

### 6.e Типографика
- Шрифт: от 16 до 10px;
- Инверсные заголовки, нейтральная цветовая палитра.
